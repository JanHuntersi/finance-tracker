<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4 p-6 bg-white shadow-md rounded-md">

  <!-- Name Field -->
  <div class="form-group flex flex-col space-y-2">
    <label for="name" class="font-semibold text-gray-700">Name: </label>
    <input
      type="text"
      id="name"
      name="name"
      formControlName="name"
      class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      placeholder="Enter name"
    />
    <div class="h-5">
      <small *ngIf="form.controls['name'].invalid && (form.controls['name'].dirty || !form.controls['name'].untouched)" class="text-red-600">
        <span *ngIf="form.controls['name'].errors?.['required']">Name is required.</span>
      </small>
    </div>
  </div>

  <!-- Description Field -->
  <div class="form-group flex flex-col space-y-2">
    <label for="description" class="font-semibold text-gray-700">Description: </label>
    <textarea
      id="description"
      name="description"
      formControlName="description"
      class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      placeholder="Enter description"
      rows="4"
    ></textarea>
    <div class="h-5">
      <small *ngIf="form.controls['description'].invalid && (form.controls['description'].dirty || !form.controls['description'].untouched)" class="text-red-600">
        <span *ngIf="form.controls['description'].errors?.['maxlength']">Description must be less than 300 characters.</span>
      </small>
    </div>
  </div>

  <!-- Amount Field -->
  <div class="form-group flex flex-col space-y-2">
    <label for="amount" class="font-semibold text-gray-700">Amount: </label>
    <input
      type="number"
      id="amount"
      name="amount"
      formControlName="amount"
      class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      placeholder="Enter amount"
    />
    <div class="h-5">
      <small *ngIf="form.controls['amount'].invalid && (form.controls['amount'].dirty || !form.controls['amount'].untouched)" class="text-red-600">
        <span *ngIf="form.controls['amount'].errors?.['required']">Amount is required.</span>
        <span *ngIf="form.controls['amount'].errors?.['min']">Amount must be a number, that is at least 0.</span>
      </small>
    </div>
  </div>

  <!-- Transaction Type Select -->
  <app-transaction-type-select
    [form]="form"
  />

  <!-- Category Select -->
  <app-dropdown
    [form]="form"
    [name]="'category_id'"
    [items]="categories"
    [filterByVariable]="'type_id'"
    [filterByValue]="form.get('type_id')?.value"
    title="Category"
  />

  <div class="form-group flex flex-col space-y-2">
    <label for="date" class="font-semibold text-gray-700">Date: </label>
    <input
      type="datetime-local"
      id="date"
      name="date"
      formControlName="date"
      class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      placeholder="Enter date"
    />
    <div class="h-5">
      <small *ngIf="form.controls['date'].invalid && (form.controls['date'].dirty || !form.controls['date'].untouched)" class="text-red-600">
        <span *ngIf="form.controls['date'].errors?.['required']">Date is required.</span>
      </small>
    </div>
  </div>

  <!-- Buttons -->
  <div class="flex justify-end space-x-4">
    <app-submit-button
      [validForm]="form.valid"
      buttonText="Register"
    />

    <button
      type="button"
      class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400"
      (click)="onCancel()"
    >
      Cancel
    </button>
  </div>

</form>
