<div class="flex-1 rounded-md">
  <ng-container *ngIf="budget['allocated'].length > 0; else noData">
    <table class="divide-y divide-gray-200 rounded-md">
      <thead class="bg-gray-50">
      <tr>
        <th class="w-1/12 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
        <th class="w-4/12 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Allocated</th>
        <th class="w-3/12 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Spent</th>
        <th class="w-4/12 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Left</th>
      </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
      <tr
        *ngFor="let category of categories"
        [ngClass]="{
          'bg-gray-200': isCategorySelected(category)
        }"
        (click)="onSelect(category)"
        class="hover:bg-gray-200 hover:cursor-pointer"
      >
        <td class="w-1/12 px-6 py-4 whitespace-nowrap text-left" [ngClass]="getClassBasedOnType(category.type_id)">
          <mat-icon class="mr-2" [fontIcon]="category.icon"/>{{category.name}}
        </td>
        <td class="w-4/12 px-6 py-4 whitespace-nowrap text-left" >
          {{ (budget['allocated'][category.id]).toFixed(2) }}
        </td>
        <td class="w-3/12 px-6 py-4 whitespace-nowrap text-left" >
          {{ (budget['spent'][category.id] ?? 0).toFixed(2) }}
        </td>
        <td class="w-4/12 px-6 py-4 whitespace-nowrap text-left"
            [ngClass]="(budget['left'][category.id] ?? 0) >= 0 ? 'bg-green-100' : 'bg-red-100'"
        >
          {{ (budget['left'][category.id] ?? 0).toFixed(2) }}
        </td>
      </tr>
      </tbody>
    </table>
  </ng-container>
  <ng-template #noData>
    <div class="flex items-center justify-center w-full h-full">
      <span class="text-center text-gray-600 text-lg">You do not have a budget set up yet.</span>
    </div>
  </ng-template>
</div>
